<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Design Playground</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EðŸŽ¨%3C/text%3E%3C/svg%3E"/>
  <link rel="stylesheet" href="styles.css"/>
  <!-- html2canvas via CDN -->
  <script defer src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script defer src="components.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
  <header class="topbar" aria-label="Toolbar">
    <div class="brand">Design Playground</div>
    <div class="toolbar" role="group" aria-label="Main actions">
      <button id="newDoc" title="New (clear)" aria-label="New design">New</button>
      <button id="importJSON" aria-label="Import JSON">Import JSON</button>
      <button id="exportJSON" aria-label="Export JSON">Export JSON</button>
      <button id="exportHTML" aria-label="Copy HTML+CSS">Copy HTML+CSS</button>
      <button id="exportPNG" aria-label="Export PNG">Export PNG</button>
      <button id="exportOptions" aria-label="Export Options">â‹¯</button>
      <span class="divider"></span>

      <label class="inline">Grid
        <input id="gridSize" type="number" min="2" value="8" aria-label="Grid size"/>
      </label>

      <label class="inline"><input id="snapToggle" type="checkbox" checked/> Snap</label>

      <label class="inline">Zoom
        <input id="zoom" type="range" min="50" max="200" value="100" aria-label="Zoom"/>
      </label>

      <span class="divider"></span>

      <label class="inline">Artboard
        <select id="artboardPreset" aria-label="Artboard preset">
          <option value="1200x800">Desktop 1200Ã—800</option>
          <option value="1440x900">Desktop 1440Ã—900</option>
          <option value="1080x1920">Mobile 1080Ã—1920</option>
          <option value="768x1366">Tablet 768Ã—1366</option>
          <option value="1024x1024">Square 1024Ã—1024</option>
          <option value="custom">Customâ€¦</option>
        </select>
      </label>
      <label class="inline">W <input id="stageW" type="number" value="1200" min="100"/></label>
      <label class="inline">H <input id="stageH" type="number" value="800" min="100"/></label>

      <label class="inline">BG
        <input id="stageBG" type="color" value="#0d1422" aria-label="Artboard background color"/>
      </label>

      <span class="divider"></span>

      <button id="undoBtn" title="Undo (Ctrl/Cmd+Z)" aria-label="Undo">Undo</button>
      <button id="redoBtn" title="Redo (Ctrl/Cmd+Shift+Z)" aria-label="Redo">Redo</button>

      <span class="divider"></span>

      <div class="align-group" role="group" aria-label="Align tools">
        <button id="alignLeft" title="Align Left">âŸ¸</button>
        <button id="alignHCenter" title="Align H Center">â‡†</button>
        <button id="alignRight" title="Align Right">âŸ¹</button>
        <button id="alignTop" title="Align Top">âŸ½</button>
        <button id="alignVCenter" title="Align V Center">â‡…</button>
        <button id="alignBottom" title="Align Bottom">âŸ¾</button>
      </div>

      <span class="divider"></span>
      <button id="shareLink" title="Copy Share Link" aria-label="Copy Share Link">Share Link</button>

      <button id="helpBtn" title="Shortcuts">?</button>
    </div>
  </header>

  <main class="main">
    <aside class="left">
      <h3>Elements</h3>
      <div id="palette" class="palette"></div>
    </aside>

    <section class="center">
      <div id="stageWrap" class="stage-wrap">
        <div id="stage" class="stage" aria-label="Artboard" tabindex="0"></div>
      </div>
    </section>

    <aside class="right">
      <h3>Properties</h3>
      <form id="props" class="props" autocomplete="off">
        <div class="group">
          <label>Type <input data-prop="type" disabled/></label>
          <label>ID <input data-prop="id" disabled/></label>
          <label>Text <input data-prop="text" placeholder="Edit text"/></label>
          <label>Image src <input data-prop="src" placeholder="https://..."/></label>
          <label>Image alt <input data-prop="alt" placeholder="describe image"/></label>
          <label>Link href <input data-prop="href" placeholder="https://..."/></label>
        </div>

        <div class="group grid2">
          <label>X <input data-prop="x" type="number"/></label>
          <label>Y <input data-prop="y" type="number"/></label>
          <label>W <input data-prop="w" type="number"/></label>
          <label>H <input data-prop="h" type="number"/></label>
        </div>

        <div class="group grid2">
          <label>Padding <input data-prop="padding" type="number"/></label>
          <label>Radius <input data-prop="radius" type="number"/></label>
          <label>Border <input data-prop="border" type="text" placeholder="1px solid #fff2"/></label>
          <label>Shadow <input data-prop="shadow" type="text" placeholder="0 10px 30px #0004"/></label>
        </div>

        <div class="group grid2">
          <label>Font family <input data-prop="font" placeholder="Inter, sans-serif"/></label>
          <label>Font size <input data-prop="fontSize" type="number" placeholder="16"/></label>
          <label>Weight <input data-prop="fontWeight" type="number" placeholder="600"/></label>
          <label>Color <input data-prop="color" type="color" value="#ffffff"/></label>
          <label>BG <input data-prop="bg" type="color" value="#111111"/></label>
        </div>

        <div class="group grid2">
          <button type="button" id="bringFwd">Bring Front</button>
          <button type="button" id="sendBack">Send Back</button>
          <button type="button" id="duplicate">Duplicate</button>
          <button type="button" id="remove">Delete</button>
        </div>
      </form>

      <div class="layers">
        <h3>Layers</h3>
        <ul id="layers"></ul>
      </div>
    </aside>
  </main>

  <dialog id="help">
    <h3>Shortcuts</h3>
    <ul>
      <li><b>Esc</b> â€“ Clear selection</li>
      <li><b>Del / Backspace</b> â€“ Delete selection</li>
      <li><b>Ctrl/Cmd + D</b> â€“ Duplicate</li>
      <li><b>Arrows</b> â€“ Nudge 1px (hold Shift for 10)</li>
      <li><b>Shift+Click</b> â€“ Multi-select</li>
      <li><b>Ctrl/Cmd + Z</b> â€“ Undo</li>
      <li><b>Ctrl/Cmd + Shift + Z</b> â€“ Redo</li>
    </ul>
    <button id="helpClose">Close</button>
  </dialog>

  <dialog id="exportDialog">
    <h3>Export Options</h3>
    <label>Scale PNG
      <input id="exportScale" type="number" min="0.25" max="4" step="0.25" value="1"/>
    </label>
    <p>Tip: higher scale = sharper PNG.</p>
    <div style="display:flex;gap:8px;margin-top:8px;">
      <button id="exportPNGApply">Export PNG</button>
      <button id="exportClose">Close</button>
    </div>
  </dialog>

  <input id="fileOpen" type="file" accept="application/json" class="hidden"/>
</body>
</html>
