:root{
  --bg:#0a0f18; --card:#0e1624cc; --muted:#afbbc6; --accent:#21d3ee;
  --grid:8px; --zoom:1; color-scheme:dark;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
}
*{box-sizing:border-box}
body{margin:0;background:
  radial-gradient(1200px 600px at 10% -10%, #0ea5e933, transparent),
  radial-gradient(1000px 500px at 90% 10%, #a78bfa33, transparent),
  var(--bg); color:#e8eef6}
.hidden{display:none}
.topbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;
  padding:10px 16px;background:#0b131fd9;backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid #ffffff1a}
.brand{font-weight:800;letter-spacing:.3px}
.toolbar{display:flex;gap:8px;align-items:center}
.toolbar .divider{width:1px;height:22px;background:#ffffff22;margin:0 4px}
.toolbar button, .toolbar input{background:#121c2d;border:1px solid #ffffff22;color:#cfe7ff;border-radius:10px;padding:6px 10px}
.toolbar button:hover{background:#16243b}
.main{display:grid;grid-template-columns:260px 1fr 300px;gap:12px; padding:12px; height:calc(100dvh - 62px)}
.left,.right{min-height:0; overflow:auto}
.left h3,.right h3{margin:8px 0 8px 0;font-size:14px;color:#d7e6ff}
.palette{display:grid;grid-template-columns:1fr 1fr; gap:8px}
.palette .item{background:#111927;border:1px dashed #385270;border-radius:12px;padding:10px;cursor:grab;text-align:center;font-size:12px}
.stage-wrap{height:100%; overflow:auto; border:1px solid #ffffff14; border-radius:16px; background:#0d1422}
.stage{position:relative; margin:24px auto; width:1200px; height:800px; transform:scale(var(--zoom)); transform-origin:top left;
  background:
    linear-gradient(transparent calc(var(--grid) - 1px), #ffffff08 1px),
    linear-gradient(90deg, transparent calc(var(--grid) - 1px), #ffffff08 1px);
  background-size: var(--grid) var(--grid), var(--grid) var(--grid);
  border-radius:20px; box-shadow:0 20px 80px #0008 inset;
}
.node{position:absolute; user-select:none; border-radius:12px; border:1px solid #ffffff1a; background:#101b2f99; color:#eaf4ff}
.node.selected{outline:2px solid var(--accent)}
.handle{position:absolute;width:10px;height:10px;border:2px solid #fff;border-radius:2px;background:#21d3ee;box-shadow:0 0 10px #21d3ee88}
.h-tl{left:-6px;top:-6px}.h-tr{right:-6px;top:-6px}.h-bl{left:-6px;bottom:-6px}.h-br{right:-6px;bottom:-6px}
.node .content{padding:12px}
.node.button{background:#21d3ee;color:#041019;border:none}
.node.image{background:transparent;border:none}
.node.image img{display:block;width:100%;height:100%;object-fit:cover;border-radius:inherit}
.node.link a{display:block;color:#0b0;text-decoration:underline;padding:12px}
.props{display:grid;gap:8px}
.group{border:1px solid #ffffff1a;border-radius:12px;padding:8px;background:#0e1729}
.group.grid2{display:grid; grid-template-columns:1fr 1fr; gap:6px}
.group label{display:flex;flex-direction:column;font-size:12px;color:#9fb3ca;gap:4px}
.group input{background:#0d1626;border:1px solid #ffffff1a;color:#e1f0ff;border-radius:8px;padding:6px 8px}
.layers{margin-top:12px}
.layers ul{list-style:none;margin:0;padding:0; display:flex; flex-direction:column; gap:6px}
.layers li{padding:8px;border-radius:10px;border:1px solid #ffffff1a;background:#0f1a2d; display:flex;align-items:center;justify-content:space-between}
.layers li.active{outline:2px solid var(--accent)}
.layers li span{font-size:12px;color:#cfe7ff}

/* alignment guides */
.guide{position:absolute;background:#21d3ee;opacity:.5;pointer-events:none;z-index:9999}
.guide-h{height:1px;width:100%}.guide-v{width:1px;height:100%}

/* palette badges */
.badge{display:inline-block;padding:2px 6px;border-radius:6px;background:#ffffff14;margin-top:6px;font-size:11px;color:#b9d0ea}
